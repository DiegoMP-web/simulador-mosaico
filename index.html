<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TODO DE MOSAICO - Simulador de Mosaico Hidráulico</title>
  <link rel="stylesheet" href="css/main.css" />
</head>

<body>
  <header class="app-header">
    <div class="brand">
      <div class="brand__title">TODO DE MOSAICO</div>
      <div class="brand__subtitle">Simulador de Mosaico Hidráulico</div>
    </div>

    <div class="header-actions">
      <button id="reset-btn" class="btn btn-outline">Reiniciar</button>
    </div>
  </header>

  <main class="app-layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="panel">
        <h3 class="panel__title">Modelo</h3>

        <input id="model-search" class="input" type="text" placeholder="Buscar modelo…" />
        <!-- Tabs se generan desde app.js -->
        <div class="category-tabs" id="category-tabs"></div>

        <!-- Grid de miniaturas -->
        <div id="model-grid" class="model-grid"></div>

        <!-- Select oculto por compatibilidad -->
        <select id="model-select" class="input input-select hidden" aria-hidden="true"></select>
      </div>

      

      <div class="panel">
        <h3 class="panel__title">Acciones</h3>
        <button id="export-btn" class="btn btn-primary w-full">Descargar diseño</button>
        <div class="hint subtle">
          *Exportación toma el SVG visible y lo convierte a PNG.
        </div>
      </div>
    </aside>

   <!-- Preview -->
<section class="preview-area">
  <div class="preview-card">
    <h2 class="preview-title">Vista del mosaico</h2>

    <div class="view-controls">
  <div class="btn-group">
    <button id="view-1-tile" class="btn btn-outline">1 pieza</button>
    <button id="view-4-tiles" class="btn btn-primary">4 piezas</button>
    <button id="view-24-tiles" class="btn btn-outline">24 piezas</button>
  </div>
</div>


    <div id="preview-wrapper" class="preview-wrapper">
      <div id="preview-grid" class="preview-grid">
        <div class="empty-state">Elige un modelo para comenzar.</div>
      </div>
    </div>

    <!-- ✅ COLORES ENTRE MOSAICO Y CÓMO EDITAR -->
    <div class="panel panel-inline">
      <div class="panel-inline__head">
        <h3 class="panel__title">Colores</h3>
        <p class="hint hint-inline">Selecciona un color y luego haz clic en el área del mosaico.</p>
      </div>
      <div id="palette" class="palette palette-large"></div>
    </div>

    <!-- ✅ INSTRUCCIONES ABAJO DE COLORES -->
    <div class="info-bar" id="info-bar">
      <div class="info-main">
        <div class="info-title">¿Cómo editar?</div>
        <div class="info-steps">
          <ol>
            <li>Selecciona un modelo.</li>
            <li>Selecciona un color.</li>
            <li>Haz clic en el área del mosaico que quieras pintar.</li>
            <li>Cuando termines, usa <strong>Exportar imagen</strong>.</li>
          </ol>
        </div>
      </div>

      <div class="info-stats">
        <div class="info-pill" id="meta-model-pill">Modelo: —</div>
        <div class="info-pill" id="meta-view-pill">Vista: —</div>
        <div class="info-pill" id="selected-color-pill">Color seleccionado: —</div>
        <div class="info-pill" id="used-count-pill">Colores usados: 0</div>
      </div>

      <div class="used-colors" id="used-colors"></div>
    </div>
  </div>
</section>



        <!-- Meta inferior eliminado (ya se muestra en la barra de info) -->
      </div>
    </section>
  </main>

  <!-- Scripts: orden IMPORTANTE -->
  <script src="js/svg-manager.js"></script>
  <script src="js/pattern-engine.js"></script>
  <script src="js/colors.js"></script>
  <script src="js/export-manager.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
